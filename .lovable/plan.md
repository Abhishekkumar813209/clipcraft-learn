

# Auth UI Redesign + Google OAuth + Multi-Exam + Session Persistence

## Current State
- Database has **no users and no exams** — the previous localStorage data is gone since the migration to database. Your old UPSC progress was in localStorage only and is not recoverable.
- The `handle_new_user` trigger exists and works correctly.
- Auth already uses `persistSession: true` so sessions should survive browser restarts. The issue is likely that you were signed out programmatically.
- The app currently supports multiple exams in the sidebar (add button exists), so multi-exam should already work once you sign up and create them.

## Plan

### 1. Add Google OAuth Sign-In
- Use the Lovable Cloud managed Google OAuth (configure-social-auth tool)
- Add a "Sign in with Google" button to the Auth page
- Import from `@lovable.dev/cloud-auth-js` and use `lovable.auth.signInWithOAuth("google")`

### 2. Redesign Auth Page UI
- Replace the plain form with a modern, polished card-based layout
- Add a gradient background with subtle pattern
- Better spacing, larger inputs, divider between OAuth and email/password
- Show/hide password toggle
- Smooth transitions between login/signup modes

### 3. Create Test Account
- Since I cannot create users programmatically via admin API, you'll need to sign up through the app with `abhishek.kumar.chy21@itbhu.ac.in` and password `123456`
- Note: Email verification is required by default. If you want to skip verification during development, I can enable auto-confirm.

### 4. Ensure Session Persistence
- The Supabase client already has `persistSession: true` and `autoRefreshToken: true`
- Verify the auth context correctly handles token refresh
- Sessions should last for days without re-login

## Files to Modify

| File | Changes |
|------|---------|
| `src/pages/Auth.tsx` | Complete UI redesign + Google OAuth button |
| `src/integrations/lovable/index.ts` | Auto-generated by configure-social-auth tool |

## Important Note
Your old UPSC data from localStorage cannot be recovered — it was never saved to the database. After signing up, you'll need to recreate it. Going forward, all data persists in the cloud database.

